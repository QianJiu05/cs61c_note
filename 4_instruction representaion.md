在汇编中看到的加载字和存储字操作都是对内存中的32位的字操作的

每个寄存器都是一个32bit的word

lw和sw每次都访问1 word

RISC-V追求简洁，使指令成为固定大小的 32 位字，那么同样的指令就可以用于RV32，RV64，RV128

可以定义不同指令的不同布局，以下是六个基础指令格式：

1. R格式，reg-reg 逻辑操作
2. I格式，reg-imm 
3. S格式，用于存储
4. B格式，用于分支（S格式的小变体）
5. U格式，用于20bit高位立即数指令
6. J格式，用于jump（U格式的小变体）
   
# R格式
```
31--25 24--20 19--15 14--12 11--7 6--0
funct7  rs2    rs1   funct3  rd   opcode
   7     5      5      3      5      7
opcode: 0110 0011
funct7 + funct3 : 和opcode配合，描述了要进行什么操作
所有R指令有相同的opcode
rd：destination reg 目标寄存器
rs：source reg 源寄存器

eg： add x18,x19,x10
31--25   24--20   19--15 14--12 11--7   6--0
0000000   01010   10011   000   10010   0110 011
   7      5        5       3      5      7
funct7    rs2     rs1   funct3   rd    opcode
rs1=19,rs2=10(源寄存器),rd=18
```
| 31--25 | 24--20 | 19--15 | 14--12 | 11--7 | 6--0 | |
|:------|-------|-------|-------|-------|-------|-------|
|0000 000|rs2|rs1|000|rs|011 0011|add|
|**0100 000**|rs2|rs1|000|rs|011 0011|sub|
|0000 000|rs2|rs1|001|rs|011 0011|sll|
|0000 000|rs2|rs1|010|rs|011 0011|slt|
|0000 000|rs2|rs1|011|rs|011 0011|sltu|
|0000 000|rs2|rs1|100|rs|011 0011|xor|
|0000 000|rs2|rs1|101|rs|011 0011|srl|
|**0100 000**|rs2|rs1|101|rs|011 0011|sra|
|0000 000|rs2|rs1|110|rs|011 0011|or|
|0000 000|rs2|rs1|111|rs|011 0011|and|

slt：set on less len：比较寄存器，结果是小的那个

减法只是用二进制补码加法，不需要额外硬件，sub与add只在funct7上有差异

sra shift right arithmetic 算数右移,与srl只在funct7上有差异，那一位=1意味着符号扩展
# I格式
立即数的范围覆盖4096个值
符号扩展，把立即数最高有效位拓展到所有最高有效位
```
31--20   19--15 14--12 11--7 6--0
imm[11:0] rsl   funct3  rd   opcode
```
| 31--20 | 19--15 | 14--12 | 11--7 | 6--0 | |
|:------|-------|-------|-------|-------|-------|
|imm[11:0]|rs1|000|rd|0010 011|addi|
|imm[11:0]|rs1|010|rd|0010 011|slti|
|imm[11:0]|rs1|011|rd|0010 011|sltiu|
|imm[11:0]|rs1|100|rd|0010 011|xori|
|imm[11:0]|rs1|110|rd|0010 011|ori|
|imm[11:0]|rs1|111|rd|0010 011|andi|
|0000 000,shamt|rs1|001|rd|0010 011|slli|
|0000 000,shamt|rs1|101|rd|0010 011|srli|
|0100 000,shamt|rs1|000|rd|0010 011|srai|
最后三条指令，移位量限制为5，超出5的部分没有意义了

高位bit 1是为了区分srli和srai

1. 逻辑右移（srl）

    定义：逻辑右移将二进制数的每一位向右移动指定的位数，空出的位用0填充。

    用途：逻辑右移通常用于无符号数的右移操作。

    行为：
    对于正数和负数，逻辑右移都会在左边填充0。

2. 算术右移（sra）

    定义：算术右移将二进制数的每一位向右移动指定的位数，空出的位用符号位（最高位）的值填充。

    用途：算术右移通常用于有符号数的右移操作，以保持数的符号不变。

    行为：对于正数，算术右移在左边填充0。
对于负数，算术右移在左边填充1。